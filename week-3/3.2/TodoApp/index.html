
<html>
    <head>
        <title>Todo App</title>
    </head>
    <script>
        function onPress(){

            function dataCallback(data){
                let presentElement = document.getElementById('mainArea')
                // console.log(presentElement);
                presentElement.innerHTML = JSON.stringify(data)               
                
            }
            function getDataCallback(res){
                res.json().then(dataCallback)
            }

            function getData(){
                fetch('http://localhost:3000/todos/', {
                    method: "GET",
                }).then(getDataCallback)
            }

           getData();

           
            let inputTitle = document.getElementById("title").value;

            let inputDescription = document.getElementById("description").value;

            function parsedResponce(data){
                console.log("Data Sent", data);
            }
            function callback(res){
                res.json().then(parsedResponce)
            }

            fetch('http://localhost:3000/todos', {
                method: "POST",
                body: JSON.stringify({
                        title: inputTitle,
                        description: inputDescription
                    }),
                headers : {
                    "Content-Type": "application/json"
                }
            }).then(callback)
        }
    </script>
<!-- 
    <style>
        *{
            background-color: black;
        }
        div{
            height: 200px;
            width: 400px;
            background-color: antiquewhite  ;
        }
        input{
            background-color: white;
        }
        button{
            background-color: white;
        }
        
    </style> -->

    <body>
        <main>
            <div>
                <br><br>
                Todo Title
                <input type="text" name="title" id="title"> 
                <br><br>
                Todo Description
                <input type="text" name="description" id="description">
                <br><br>
                <button onclick="onPress()">Send Todo</button>

                <br><br>
                <div id="mainArea">
                    Hi There!
                </div>
            </div>
        </main>
    </body>

</html>